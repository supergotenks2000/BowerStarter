@{
    ViewData["Title"] = "Knockout";
}

<h2>@ViewData["Title"].</h2>

<br /><br />

<h3>Record</h3>
<table>
    <thead>
        <tr>
            <th>Opponent</th>
            <th>Result</th>
        </tr>
    </thead>
    <tbody data-bind="foreach: gameResults">
        <tr>
            <td><input data-bind="value: opponent" /></td>
            <td><select data-bind="options: $root.resultChoices, 
                value: result, optionsText: $data"></select></td>
        </tr>
    </tbody>
</table>
<button data-bind="click: addResult">Add New Result</button>

<script>
    function GameResult(opponent, result) {
        var self = this;
        self.opponent = opponent;
        self.result = ko.observable(result);
    }

    function ViewModelRecord() {
        var self = this;

        self.resultChoices = ["Win", "Loss", "Tie"];

        self.gameResults = ko.observableArray([
            new GameResult("Brendan", self.resultChoices[0]),
            new GameResult("Brendan", self.resultChoices[0]),
            new GameResult("Michelle", self.resultChoices[1])
        ]);

        self.addResult = function () {
            self.gameResults.push(new GameResult("", self.resultChoices[0]));
        }
    };
    ko.applyBindings(new ViewModelRecord);
</script>